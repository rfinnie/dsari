<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="generator" content="dsari">
  <title>dsari</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
</head>

<body>
<div class="container">
<h1>dsari</h1>
<h2>Runs</h2>
<table class="table table-striped">
<tr>
    <th>Stop time</th>
    <th>Job name</th>
    <th>Duration</th>
    <th>Exit code</th>
</tr>
{% for run in runs %}
<tr{% if run.exit_code != 0 %} class="danger"{% endif %}>
    <td><a href="{{ run.job.name }}/{{ run.id }}/">{{ run.stop_datetime }}</a></td>
    <td>{{ run.job.name }}</td>
    <td>{{ run.stop_datetime - run.start_datetime }}</td>
    <td>{{ run.exit_code }}</td>
</tr>
{% endfor %}
</table>
<h2>Jobs</h2>
<table class="table table-striped">
<tr>
    <th>Job</th>
    <th>Last run</th>
    <th>Last duration</th>
    <th>Last successful run</th>
</tr>
{% for job in jobs %}
<tr{% if job.last_run_datetime != job.last_successful_run_datetime %} class="danger"{% endif %}>
    <td><a href="{{ job.name }}/">{{ job.name }}</a></td>
    <td>{{ job.last_run_datetime }}</td>
    <td>{{ job.last_duration_datetime }}</td>
    <td>{{ job.last_successful_run_datetime }}</td>
</tr>
{% endfor %}
</table>
</div>
<!-- Generated {{ now }} -->
</body>
</html>
