<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>dsari</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
</head>

<body>
<div class="container">
<h1>dsari</h1>
<h2>Runs</h2>
<table class="table table-striped">
<tr>
    <th>Start time</th>
    <th>Job name</th>
    <th>Duration</th>
    <th>Exit code</th>
</tr>
{% for run in runs|sort(attribute='start_time', reverse=True) %}
{% if loop.index <= 25 %}
<tr{% if run.exit_code != 0 %} class="danger"{% endif %}>
    <td><a href="{{ run.job_name }}/{{ run.run_id }}/">{{ run.start_time }}</a></td>
    <td>{{ run.job_name }}</td>
    <td>{{ run.stop_time - run.start_time }}</td>
    <td>{{ run.exit_code }}</td>
</tr>
{% endif %}
{% endfor %}
</table>
<h2>Jobs</h2>
<table class="table table-striped">
<tr>
    <th>Job</th>
    <th>Last run</th>
    <th>Last duration</th>
    <th>Last successful run</th>
</tr>
{% for job in jobs|sort() %}
<tr>
    <td><a href="{{ job }}/">{{ job }}</a></td>
    <td>{{ jobs[job].last_run }}</td>
    <td>{{ jobs[job].last_duration }}</td>
    <td>{{ jobs[job].last_successful_run }}</td>
</tr>
{% endfor %}
</ul>
</div>
</body>
</html>
